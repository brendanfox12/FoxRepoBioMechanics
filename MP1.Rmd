---
title: "MP1"
author: "BrendanFox"
date: "2023-01-19"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r,include=FALSE}
library(tidyverse) 
``` 



## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

###The Code Stuff
```{r cars}
o <- read_csv("O_jumping_1.csv")
head(o)
plot(o$ms,o$cm)
o%>%
  ggplot(aes(x=ms,y=cm))+geom_point()+geom_smooth(col="red")

o1 <- read_csv("O_jumping_1.csv")
o2 <- read_csv("O_jumping_1.csv")
o3 <- read_csv("O_jumping_1.csv")
o4 <- read_csv("O_jumping_1.csv")
o5 <- read_csv("O_jumping_1.csv")

z1 <- read_csv("Z_jumping_1.csv")
z2 <- read_csv("Z_jumping_1.csv")
z3 <- read_csv("Z_jumping_1.csv")
z4 <- read_csv("Z_jumping_1.csv")
z5 <- read_csv("Z_jumping_1.csv")

dat <- rbind(o1,o2,o3,o3,o4,o5,z1,z2,z3,z3,z4,z5)
dat%>%
  ggplot(aes(x=ms,y=cm))+geom_point()

list.files(pattern = ".csv")
dat <- list() #an empty list

f <- list.files(pattern=".csv") #store the file names

for(i in f){
  m <- unlist(strsplit(i,"_"))
  who <- m[1]
  rep <- gsub(".csv","",m[3])
  dat.i <- read_csv(i)%>%
    mutate(who=who,rep=rep)
  dat[[i]] <- dat.i
}
all.dat <- do.call(rbind,dat)
head(all.dat)
tail(all.dat)

all.dat %>%
  group_by(who,rep) %>%
  summarise(max = max(cm))

max.dat <- all.dat %>%
  group_by(who,rep) %>%
  summarise(max = max(cm))


max.dat%>%
  ggplot(aes(x=who,y=max))+geom_boxplot()

max.dat%>%
  group_by(who)%>%
  summarise(mean.max=mean(max),sd.max=sd(max))

se <- function(x){sd(x)/sqrt(length(x))}
max.dat%>%
  group_by(who)%>%
  summarise(mean.max=mean(max),sd.max=sd(max),se.max=se(max))


```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
